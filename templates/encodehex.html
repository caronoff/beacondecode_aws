{% extends "layout.html" %}
{% block title %}Decoded Beacon {% endblock %}
{% block head %}
  {{ super() }}
<!-- Custom styles for this template -->
    <link href="{{ url_for('static', filename='css/signin.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">

    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

{% endblock %}
{% block content %}


    <div class="container">
      <form id='myForm' name="test" action="#">
        <div class="form-group" id="combo-group">
          <label for="combo">Initial select</label>
          <select id="combo" name="fruit" class="my-combo" data-btn-class="btn-success">
            {% for country in countries %}
                <option value="{{country}}">{{country}}</option>
            {% endfor %}

          </select>

        </div>

        <div class="ui-widget">
          <label for="tags">Tags: </label>
          <input id="tags">
        </div>

        <div class="radio">
          <label><input type="radio" name="optradio" value="1">First Generation</label>
        </div>
        <div class="radio">
          <label><input type="radio" name="optradio" value="2">Second Generation</label>
        </div>



        <div class="radio">
         <label><input type="radio" name="beacontype" value="ELT">ELT</label>
        </div>

        <div class="radio">
          <label><input type="radio" name="beacontype" value="EPIRB">EPIRB</label>
        </div>

         <div class="radio">
          <label><input type="radio" name="beacontype" value="PLB">PLB</label>
        </div>

         <div class="radio">
          <label><input type="radio" name="beacontype" value="TEST">Test or Spare</label>
        </div>





        <p class="debug">Selected value (<tt>change</tt> event): <strong class="selected">-</strong></p>


          <div id="pieces">
                <div id="1" style="display: none;" class="panel">
                    <div class="form-group">
                      <label for="input1">Input for first gen:</label>
                      <input type="text" class="form-control" id="input1">
                    </div>
                </div>


                <div id="2" style="display: none;" class="panel">
                    <div class="form-group">
                        <label for="input2">Input for second gen:</label>
                        <input type="text" class="form-control" id="input2">
                    </div>
                </div>


        </div>
      </form>
</div>



{% endblock %}


{% block scripts %}
{{super()}}
<script src="{{ url_for('static', filename='js/bootstrap-combobox.min.js') }}"></script>

<script type="text/javascript">
$('#combo').on('change', function() {
$(".debug > .selected").text(this.value);
});

</script>

<script type="text/javascript">
$('#myForm input').on('change', function() {
   var panelselect = $('input[name=optradio]:checked', '#myForm').val();
    console.log(panelselect);
   if(panelselect=='1'){
        $('#1').show();
        $('#2').hide();}
    if(panelselect=='2'){
         $('#2').show();
         $('#1').hide();
}
});
</script>

<script type="text/javascript">
$('#myForm input').on('change', function() {
   var btype = $('input[name=beacontype]:checked', '#myForm').val();
    console.log(btype);
});
</script>





<script>
  $( function() {
    
    $( "#tags" ).autocomplete({
      

      source: function(request, response) {
            $.getJSON("{{url_for('autocomplete')}}",{
                q: request.term, // in flask, "q" will be the argument to look for using request.args
            }, function(data) {
                response(data.matching_results); // matching_results from jsonify
            });
        },
        minLength: 2,
        select: function(event, ui) {
            console.log(ui.item.value); // not in your question, but might help later
        }


      });
  });
  </script>




{% endblock %}

